{% extends 'base.html' %}

{% block head %}
<title>Data</title>
{% endblock %}

{% block body %}
<br>
<br>
<h1 style="color: white; text-shadow: black 0px 0px 10px;">Help Yourself.</h1>
<br>
<br>
<form action="/datasearchstate" style="background-color: white; width: 40%; border-radius: 10px; padding: 20px;"
    method="POST">
    <div class="form-group">
        <label for="state">Select State</label>
        <select class="form-control" id="state" name="state" value="{{ request.form['state'] }}">
            <option value="AL"> Alabama </option>
            <option value="AK"> Alaska </option>
            <option value="AZ"> Arizona </option>
            <option value="AR"> Arkansas </option>
            <option value="CA"> California </option>
            <option value="CO"> Colorado </option>
            <option value="CT"> Connecticut </option>
            <option value="DE"> Delaware </option>
            <option value="DC"> District Of Columbia </option>
            <option value="FL"> Florida </option>
            <option value="GA"> Georgia </option>
            <option value="HI"> Hawaii </option>
            <option value="ID"> Idaho </option>
            <option value="IL"> Illinois </option>
            <option value="IN"> Indiana </option>
            <option value="IA"> Iowa </option>
            <option value="KS"> Kansas </option>
            <option value="KY"> Kentucky </option>
            <option value="LA"> Louisiana </option>
            <option value="ME"> Maine </option>
            <option value="MD"> Maryland </option>
            <option value="MA"> Massachusetts </option>
            <option value="MI"> Michigan </option>
            <option value="MN"> Minnesota </option>
            <option value="MS"> Mississippi </option>
            <option value="MO"> Missouri </option>
            <option value="MT"> Montana </option>
            <option value="NE"> Nebraska </option>
            <option value="NV"> Nevada </option>
            <option value="NH"> New Hampshire </option>
            <option value="NJ"> New Jersey </option>
            <option value="NM"> New Mexico </option>
            <option value="NY"> New York </option>
            <option value="NC"> North Carolina </option>
            <option value="ND"> North Dakota </option>
            <option value="OH"> Ohio </option>
            <option value="OK"> Oklahoma </option>
            <option value="OR"> Oregon </option>
            <option value="PA"> Pennsylvania </option>
            <option value="RI"> Rhode Island </option>
            <option value="SC"> South Carolina </option>
            <option value="SD"> South Dakota </option>
            <option value="TN"> Tennessee </option>
            <option value="TX"> Texas </option>
            <option value="UT"> Utah </option>
            <option value="VT"> Vermont </option>
            <option value="VA"> Virginia </option>
            <option value="WA"> Washington </option>
            <option value="WV"> West Virginia </option>
            <option value="WI"> Wisconsin </option>
            <option value="WY"> Wyoming </option>
        </select>
    </div>
    <div class="form-group">
        <label for="shuffle">Order By</label>
        <select class="form-control" id="shuffle" name="shuffle" value="{{ request.form['shuffle'] }}">
            <option value="None"> Date </option>
            <option value="tot_cases"> Total Cases </option>
            <option value="new_case"> New Cases </option>
            <option value="tot_death"> Total Deaths </option>
            <option value="new_death"> New Deaths </option>
        </select>
    </div>
    <div class="form-group">
        <label for="daterange">Date Range</label><br>
        <input class="form-control" type="text" name="daterange" placeholder="YYYY-MM-DD to YYYY-MM-DD" required>
    </div>
    <button type="submit" class="btn btn-primary">Search</button>
</form>
<br>
<br>
<br>
<br>

{% if post %}
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <h1 style="color: white; text-shadow: black 0px 0px 10px; text-align: center;">New Cases</h1>
            <img style="border-radius: 10px;" class="d-block w-100"
                src="{{ url_for('static', filename='newCases.png') }}" alt="New Cases">
        </div>
        <div class="carousel-item">
            <h1 style="color: white; text-shadow: black 0px 0px 10px; text-align: center;">New Deaths</h1>
            <img style="border-radius: 10px;" class="d-block w-100"
                src="{{ url_for('static', filename='newDeaths.png') }}" alt="New Deaths">
        </div>
        <div class="carousel-item">
            <h1 style="color: white; text-shadow: black 0px 0px 10px; text-align: center;">Total Cases</h1>
            <img style="border-radius: 10px;" class="d-block w-100"
                src="{{ url_for('static', filename='totalCases.png') }}" alt="Total Cases">
        </div>
        <div class="carousel-item">
            <h1 style="color: white; text-shadow: black 0px 0px 10px; text-align: center;">Total Deaths</h1>
            <img style="border-radius: 10px;" class="d-block w-100"
                src="{{ url_for('static', filename='totalDeaths.png') }}" alt="Total Deaths">
        </div>
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
</div>
<br><br><br><br><br>
<div
    style="overflow-y: scroll; height:350px; background-color: black; border: 5px solid #900000 ; border-radius: 10px;">
    <table class="table table-striped table-dark">
        <thead>
            <tr>
                {% for key in dataColumns %}
                <th scope="col" style="background: grey; position: sticky; top: 0;">{{ key }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in dataItems %}
            <tr>
                {% for value in row %}
                <td>{{ value }}</td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
<br>
<br>
<br>
{% else %}
{% endif %}

<br>
<br>
<br>
<br>
<br>
{% endblock %}